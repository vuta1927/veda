version: '3.4'

services:

  apiserver:
    image: vds_api
    container_name: vds_api
    ports:
      - "52719:80"
    build:
      context: .
      dockerfile: ApiServer/Dockerfile
    networks:
      vds_network:
        ipv4_address: 10.0.0.2

  authserver:
    image: vds_identity_server
    container_name: vds_identity_server
    ports:
      - "51927:80"
    build:
      context: .
      dockerfile: AuthServer/Dockerfile
    networks:
      vds_network:
        ipv4_address: 10.0.0.3

networks:
  vds_network:
    external:
      name: vds_network
